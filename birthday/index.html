<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mission: Daria's Heart</title>
<style>
body {
  margin: 0; padding: 0; overflow: hidden;
  background: black; color: #eaeaea;
  font-family: 'Courier New', monospace;
  display: flex; justify-content: center; align-items: center;
  height: 100vh; text-align: center; position: relative;
  transition: background 1.5s ease;
}

/* Yƒ±ldƒ±zlar */
.star {
  position: absolute; background: white; border-radius: 50%; z-index: 0;
  box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
  animation: twinkle var(--duration) infinite alternate;
}
@keyframes twinkle {
  from { opacity: 0.4; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1.2); }
}

#hacker-canvas {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  z-index: -1; display: none; opacity: 0.15;
}

button {
  background: none; border: 3px solid #fff; color: white;
  padding: 12px 28px; margin: 15px; cursor: pointer;
  font-size: 24px; font-family: 'Courier New', monospace;
  font-weight: 900; transition: 0.3s;
}
button:hover { background: #fff; color: #000; }

.fade { 
  opacity: 0; transform: translateY(20px); animation: fadeUp 1s forwards; 
  font-size: 28px; font-weight: 900; 
}
@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

/* Papatyalar */
.flower-container {
  display: flex; flex-wrap: wrap; justify-content: center;
  margin-top: 40px; width: 400px; height: 180px; position: relative;
}
.flower { position: absolute; z-index: 2; }
.flower-head {
  width: 20px; height: 20px; background: radial-gradient(circle, #ffeb3b, #fbc02d);
  border-radius: 50%; position: relative;
}
.flower-head::before {
  content: ''; position: absolute; top: 50%; left: 50%; width: 6px; height: 32px;
  background: white; border-radius: 40%; transform: translate(-50%, -50%);
  box-shadow: 0 -32px 0 white, 0 32px 0 white, 32px 0 0 white, -32px 0 0 white,
              22px -22px 0 white, -22px -22px 0 white, 22px 22px 0 white, -22px 22px 0 white;
  z-index: -1;
}
.stem { position: absolute; width: 2px; height: 50px; background: #2e7d32; top: 15px; left: 9px; z-index: -2; }
.leaf { position: absolute; width: 10px; height: 6px; background: #388e3c; border-radius: 0 100% 0 100%; left: 2px; top: 20px; }

/* Pasta */
.cake {
  width: 200px; height: 90px; background: linear-gradient(#4b2e2b, #3b1f1b);
  border-radius: 0 0 100px 100px; margin: 30px auto; position: relative;
}
.candle { width: 10px; height: 30px; background: #fff; position: absolute; top: -30px; }
.flame {
  width: 10px; height: 15px; background: orange; border-radius: 50%;
  position: absolute; top: -15px; animation: flicker 0.5s infinite alternate;
}
@keyframes flicker { from { transform: scale(1); } to { transform: scale(1.3); } }

/* Oyun & Alev Efekti */
.fire-container {
  position: absolute; bottom: 0; left: 0; width: 100%; height: 200px;
  background: transparent; pointer-events: none; z-index: 1; display: none;
}
.fire {
  position: absolute; bottom: 0; width: 100%; height: 100%;
  background: radial-gradient(circle at bottom, #ff4d00, #ff8c00, transparent);
  filter: blur(30px); animation: fire-move 0.8s infinite alternate;
}
@keyframes fire-move { from { height: 150px; opacity: 0.6; } to { height: 250px; opacity: 0.9; } }
.hell-bg { background: radial-gradient(circle, #4a0000 0%, #000000 100%) !important; }

.btn-grid {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 15px;
  max-width: 600px; margin: 30px auto; position: relative; height: 150px;
}
.fake-btn { transition: 0.1s linear; z-index: 1001; }

#chest { font-size: 130px; cursor: pointer; animation: bounce 1s infinite; margin-bottom: 20px; }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-25px); } }

#final-letter {
  background: #fff; color: #000; padding: 40px; border-radius: 5px;
  max-width: 600px; margin: 20px auto; text-align: left;
  box-shadow: 0 10px 40px rgba(0,0,0,0.8); font-family: 'Georgia', serif;
  line-height: 1.8; border: 1px solid #ddd;
}
</style>
</head>
<body>

<div id="fire-bg" class="fire-container"><div class="fire"></div></div>
<canvas id="hacker-canvas"></canvas>
<div id="container">
  <div id="content">
    <p class="fade">Are you ready?</p>
    <button onclick="answer(true)">Yes</button>
  </div>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
// Yƒ±ldƒ±zlar
const starsCount = 130;
for(let i=0; i<starsCount; i++){
  let s = document.createElement('div');
  s.className = 'star';
  s.style.top = Math.random() * 100 + '%';
  s.style.left = Math.random() * 100 + '%';
  let size = Math.random() * 2 + 2.5; 
  s.style.width = size + 'px'; s.style.height = size + 'px';
  s.style.setProperty('--duration', (Math.random() * 3 + 1) + 's');
  document.body.appendChild(s);
}

function answer(isYes){
  document.getElementById("music").play();
  const content = document.getElementById('content');
  content.innerHTML = `
    <p class="fade">Firstly it's for you.<br>I can't find prettier than that,<br>just like I can't find a prettier girl than you.</p>
    <div id="f-box" class="flower-container fade"></div>
  `;
  const box = document.getElementById('f-box');
  for(let i=0; i<15; i++){
    let f = document.createElement('div');
    f.className = 'flower';
    f.innerHTML = `<div class="flower-head"></div><div class="stem"><div class="leaf"></div></div>`;
    f.style.left = Math.random() * 350 + 'px';
    f.style.top = Math.random() * 120 + 'px';
    f.style.transform = `scale(${0.7+Math.random()*0.4})`;
    box.appendChild(f);
  }
  setTimeout(showCake, 5000);
}

function showCake(){
  const content = document.getElementById('content');
  content.innerHTML = `
    <div class="cake fade">
      <div class="candle" style="left:50px"><div class="flame"></div></div>
      <div class="candle" style="left:100px"><div class="flame"></div></div>
      <div class="candle" style="left:150px"><div class="flame"></div></div>
    </div>
    <p class="fade">Did you blow out the candles?</p>
    <button onclick="startHacking()">Evet</button>
  `;
}

function startHacking(){
  const content = document.getElementById('content');
  content.innerHTML = `<p class="fade" style="color:#0f0; font-size:38px; font-weight:900;">LETS HACKING YOUR HEART...</p>`;
  setTimeout(() => {
    content.innerHTML = `<div id="terminal" style="color:#0f0; text-align:left; font-size:25px; font-weight:900;"></div>`;
    document.getElementById('hacker-canvas').style.display = "block";
    initMatrix();
    typeWriter();
  }, 2500);
}

const hackerLines = ["DARIAS_HEART.EXE", "SYSTEM GETTIN READY..", "SYSTEM TARGET: POLAND", "THE PURPOSE OF THE SYSTEM: DARIA'S HEART", "DIFFICULTY: EXTREMLY HARD", "DISTANCE: ENOUGH TO WALK", "SYSTEM LOADING..."];
let lineIdx = 0;
function typeWriter(){
  if(lineIdx < hackerLines.length){
    let terminal = document.getElementById('terminal');
    let p = document.createElement('p');
    terminal.appendChild(p);
    let charIdx = 0; let line = hackerLines[lineIdx];
    let interval = setInterval(() => {
      p.innerHTML += line[charIdx]; charIdx++;
      if(charIdx === line.length){ clearInterval(interval); lineIdx++; setTimeout(typeWriter, 800); }
    }, 45);
  } else { setTimeout(showFinal, 2500); }
}

function showFinal(){
  document.body.style.background = "#fff";
  document.getElementById('container').innerHTML = `
    <div id="gift" style="font-size:130px; cursor:pointer; animation: bounce 1s infinite;" onclick="reveal()">üéÅ</div>
    <div id="final-screen" style="display:none;">
      <h1 id="love" style="color:red; font-size:70px; font-weight:900; margin-bottom:25px;">I LOVE YOU ‚ù§Ô∏è</h1>
      <p class="fade" style="color:white; font-size:35px; margin-bottom:25px;">And you?</p>
      <button onclick="lastAction()">Yes</button>
      <button id="no-btn" onmouseover="moveNoButton()">No</button>
    </div>
  `;
  document.getElementById('hacker-canvas').style.display = "none";
}

function reveal(){
  document.getElementById('gift').style.display = "none";
  document.getElementById('final-screen').style.display = "block";
  document.body.style.background = "black";
}

function moveNoButton(){
  const btn = document.getElementById('no-btn');
  btn.style.position = "absolute";
  btn.style.left = Math.random() * (window.innerWidth - 100) + "px";
  btn.style.top = Math.random() * (window.innerHeight - 100) + "px";
}

function lastAction(){
  const screen = document.getElementById('final-screen');
  screen.innerHTML = `<h1 class="fade" style="color:#0f0; font-size:45px; font-weight:900;">I KNEW THIS! ‚ù§Ô∏è</h1>`;
  setTimeout(() => {
    screen.innerHTML = `<h2 class="fade" style="color:white; font-size:40px;">FINISHED?</h2><h2 id="not-yet" class="fade" style="color:red; font-size:60px; font-weight:900; display:none;">NOT YET...</h2>`;
    setTimeout(() => {
      document.getElementById('not-yet').style.display = "block";
      setTimeout(startHellMode, 2500);
    }, 1500);
  }, 2500);
}

function startHellMode() {
  const screen = document.getElementById('final-screen');
  document.body.classList.add('hell-bg');
  document.getElementById('fire-bg').style.display = "block";
  
  screen.innerHTML = `
    <div class="fade">
      <p style="color:#ff4d00; font-size:35px; font-weight:900; text-shadow: 0 0 20px red;">> LETS PLAY A LITTLE DANGEROUS GAME..</p>
      <h2 style="color:white; font-size:55px; margin-top:30px; font-weight:900;">READY?</h2>
      <button onclick="preparePasswordQuestion()" style="border-color:#ff4d00; color:#ff4d00;">YES</button>
    </div>
  `;
}

function preparePasswordQuestion() {
  const screen = document.getElementById('final-screen');
  screen.innerHTML = `<h1 class="fade" style="color:#ff4d00; font-size:45px; font-weight:900; text-shadow: 0 0 15px #000;">PASSWORD QUESTION</h1>`;
  
  setTimeout(() => {
    screen.innerHTML = `
      <div id="game-zone">
        <p style="color:white; margin-top:20px; font-weight:900; font-size:24px;">QUESTION 1: WHO IS THE MOST BEAUTIFUL GIRL IN THE WORLD?</p>
        <div class="btn-grid" id="btn-area">
          <button class="fake-btn" onmouseover="scatter(this)">Antonella</button>
          <button class="fake-btn" onmouseover="scatter(this)">Georgina</button>
          <button class="fake-btn" onmouseover="scatter(this)">Ana De Armas</button>
          <button onclick="passBeauty()" style="border-color:#0f0; color:#0f0;">DARIA</button>
        </div>
      </div>
    `;
  }, 2000);
}

function scatter(btn) {
  btn.style.position = "fixed";
  btn.style.left = Math.random() * (window.innerWidth - 150) + "px";
  btn.style.top = Math.random() * (window.innerHeight - 100) + "px";
}

function passBeauty() {
  const screen = document.getElementById('final-screen');
  screen.innerHTML = `
    <h2 style="color:#0f0; font-weight:900;">> PASSWORD CORRECT!</h2>
    <div class="fade" style="margin-top:30px;">
      <p style="color:white; font-size:20px;">> THE KEY: ENTER OUR SONG TITLE TO DECRYPT THE FINAL FILE...</p>
      <input type="text" id="song-input" style="background:black; border:2px solid #0f0; color:#0f0; padding:10px; font-size:20px; outline:none; text-align:center;">
      <br><br><button onclick="checkSong()">SUBMIT KEY</button>
      <p id="song-error" style="color:red; margin-top:10px;"></p>
    </div>
  `;
}

function checkSong() {
  if (document.getElementById('song-input').value.toLowerCase().includes("luther")) { 
    // BURASI G√úNCELLENDƒ∞: √ñNCE HACKER TEMASINA D√ñN√ú≈û
    returnToHacker(); 
  }
  else { document.getElementById('song-error').innerText = "> WRONG KEY. ACCESS DENIED."; }
}

function returnToHacker() {
  const screen = document.getElementById('final-screen');
  // Alevleri kapat, cehennem temasƒ±nƒ± sil, hacker kanvasƒ±nƒ± g√∂ster
  document.getElementById('fire-bg').style.display = "none";
  document.body.classList.remove('hell-bg');
  document.body.style.background = "black";
  document.getElementById('hacker-canvas').style.display = "block";
  
  screen.innerHTML = `<div id="status" style="color:#0f0; font-size:25px; font-weight:900; text-align:left;"></div>`;
  const lines = [
    "> DECRYPTING FINAL LAYER...", 
    "> KEY ACCEPTED: LUTHER", 
    "> LOGGING OUT FROM YOUR HEART...", 
    "> DISCONNECTING SECURE TUNNEL...",
    "> SYSTEM SHUTDOWN..."
  ];
  
  let i = 0;
  let interval = setInterval(() => {
    if(i < lines.length) { 
      document.getElementById('status').innerHTML += `<p class="fade">${lines[i]}</p>`; 
      i++; 
    }
    else { 
      clearInterval(interval); 
      // Sƒ∞STEMDEN √áIKILDI, ≈ûƒ∞MDƒ∞ BEYAZ VE SANDIK SAHNESƒ∞
      setTimeout(revealChest, 2500); 
    }
  }, 1000);
}

function revealChest() {
  // EKRAN BEYAZ OLUYOR
  document.body.style.background = "#fff";
  document.getElementById('hacker-canvas').style.display = "none";
  
  document.getElementById('container').innerHTML = `
    <div class="fade" style="color:black;">
      <h2 style="font-size:35px; font-weight:900;">The system is offline. Only my heart remains.</h2>
      <div id="chest" style="color:black;" onclick="openChest()">üß∞</div>
      <p style="font-weight:bold; font-size:20px;">OPEN THE CHEST</p>
    </div>
  `;
}

function openChest() {
  document.getElementById('container').innerHTML = `
    <div class="fade" style="color:black;">
      <div style="font-size:120px; margin-bottom:20px;">‚úâÔ∏è</div>
      <button onclick="readLetter()" style="border-color:black; color:black;">READ THE LETTER</button>
    </div>
  `;
}

function readLetter() {
  document.getElementById('container').innerHTML = `
    <div id="final-letter" class="fade">
      <h3 style="text-align:center; font-size:28px;">Daria</h3>
      <p>I have no fancy words or extravagant gifts; just strange and childish feelings</p>
      <p>And of course, my English is terrible:)</p>
      <p>Therefore, I am neither a poet nor a rich man. I am simply an autistic man. a basic who is in love with the unique..</p>
      <p>Jeste≈õ jedynƒÖ motywacjƒÖ we wszystkich moich walkach.</p>
      <p style="text-align:right; font-weight:bold; margin-top:30px;">Just love you.‚ù§Ô∏è</p>
    </div>
  `;
}

function initMatrix(){
  const canvas = document.getElementById('hacker-canvas'); const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth; canvas.height = window.innerHeight;
  let columns = canvas.width / 20; let drops = Array(Math.floor(columns)).fill(1);
  setInterval(() => {
    ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "#0F0"; ctx.font = "bold 22px monospace";
    drops.forEach((y, i) => {
      ctx.fillText(String.fromCharCode(Math.random()*128), i*20, y*20);
      if(y*20 > canvas.height && Math.random() > 0.975) drops[i] = 0;
      drops[i]++;
    });
  }, 33);
}
</script>
</body>
</html>